{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{onRegister,onSwitchToLogin}=_ref;const[formData,setFormData]=useState({email:'',password:'',confirmPassword:'',first_name:'',last_name:'',role:'employee',department:'',position:''});const[departments,setDepartments]=useState([]);const[departmentsLoading,setDepartmentsLoading]=useState(true);const[departmentsError,setDepartmentsError]=useState(null);const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);// Fetch departments on component mount\nuseEffect(()=>{fetchDepartments();},[]);const fetchDepartments=async()=>{try{setDepartmentsLoading(true);setDepartmentsError(null);console.log('Fetching departments...');const response=await fetch('/api/employees/departments');console.log('Departments response status:',response.status);if(response.ok){const data=await response.json();console.log('Departments data:',data);setDepartments(data.data||[]);}else{console.error('Failed to fetch departments:',response.status,response.statusText);const errorData=await response.json();console.error('Error data:',errorData);setDepartmentsError('Failed to load departments');}}catch(error){console.error('Failed to fetch departments:',error);setDepartmentsError('Failed to load departments');}finally{setDepartmentsLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>({...prev,[name]:''}));}};const validateForm=()=>{const newErrors={};if(!formData.email){newErrors.email='Email is required';}else{var _formData$email$split;// Enhanced email validation\nconst emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;if(!emailRegex.test(formData.email)){newErrors.email='Please enter a valid email address (e.g., user@company.com)';}// Check for common email providers and business domains\nconst emailDomain=(_formData$email$split=formData.email.split('@')[1])===null||_formData$email$split===void 0?void 0:_formData$email$split.toLowerCase();const commonProviders=['gmail.com','yahoo.com','hotmail.com','outlook.com','aol.com','icloud.com'];const isCommonProvider=commonProviders.includes(emailDomain);if(isCommonProvider){newErrors.email='Please use your company email address for registration';}// Additional check for very short domains (likely personal emails)\nif(emailDomain&&emailDomain.length<5){newErrors.email='Please use your company email address for registration';}}if(!formData.password){newErrors.password='Password is required';}else if(formData.password.length<6){newErrors.password='Password must be at least 6 characters';}if(!formData.confirmPassword){newErrors.confirmPassword='Please confirm your password';}else if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='Passwords do not match';}if(!formData.first_name){newErrors.first_name='First name is required';}if(!formData.last_name){newErrors.last_name='Last name is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);setErrors({});// Clear previous errors\ntry{const{confirmPassword,...registerData}=formData;const response=await fetch('/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(registerData)});const data=await response.json();if(data.status==='success'){// Store token in localStorage\nlocalStorage.setItem('token',data.token);localStorage.setItem('user',JSON.stringify(data.user));// Call parent callback\nonRegister(data.user,data.token);}else{// Handle specific error messages from backend\nif(data.errors&&Array.isArray(data.errors)){const fieldErrors={};data.errors.forEach(error=>{fieldErrors[error.path]=error.msg;});setErrors(fieldErrors);}else{setErrors({general:data.message||'Registration failed'});}}}catch(error){console.error('Registration error:',error);setErrors({general:'Network error. Please try again.'});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDD Register for HRMS\"}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-subtitle\",children:\"Create your account to get started.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.general}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"first_name\",name:\"first_name\",value:formData.first_name,onChange:handleChange,className:errors.first_name?'error':'',placeholder:\"Enter first name\"}),errors.first_name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.first_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"last_name\",name:\"last_name\",value:formData.last_name,onChange:handleChange,className:errors.last_name?'error':'',placeholder:\"Enter last name\"}),errors.last_name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.last_name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,className:errors.email?'error':'',placeholder:\"Enter your company email (e.g., john.doe@company.com)\"}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.email}),/*#__PURE__*/_jsx(\"span\",{className:\"hint-text\",children:\"Please use your company email address for registration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:errors.password?'error':'',placeholder:\"Enter password\"}),errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,className:errors.confirmPassword?'error':'',placeholder:\"Confirm password\"}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.confirmPassword})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"department\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"department\",name:\"department\",value:formData.department,onChange:handleChange,className:errors.department?'error':'',disabled:departmentsLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:departmentsLoading?'Loading departments...':'Select Department'}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.name,children:dept.name},dept.id))]}),departmentsError&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:departmentsError}),errors.department&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"position\",children:\"Position\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"position\",name:\"position\",value:formData.position,onChange:handleChange,placeholder:\"Enter position\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",disabled:loading,children:loading?'Creating account...':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"link-button\",onClick:onSwitchToLogin,children:\"Sign in here\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Register","_ref","onRegister","onSwitchToLogin","formData","setFormData","email","password","confirmPassword","first_name","last_name","role","department","position","departments","setDepartments","departmentsLoading","setDepartmentsLoading","departmentsError","setDepartmentsError","errors","setErrors","loading","setLoading","fetchDepartments","console","log","response","fetch","status","ok","data","json","error","statusText","errorData","handleChange","e","name","value","target","prev","validateForm","newErrors","_formData$email$split","emailRegex","test","emailDomain","split","toLowerCase","commonProviders","isCommonProvider","includes","length","Object","keys","handleSubmit","preventDefault","registerData","method","headers","body","JSON","stringify","localStorage","setItem","token","user","Array","isArray","fieldErrors","forEach","path","msg","general","message","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","disabled","map","dept","onClick"],"sources":["/Users/nihith/HRMS/client/src/components/Register.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Auth.css';\n\nconst Register = ({ onRegister, onSwitchToLogin }) => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    first_name: '',\n    last_name: '',\n    role: 'employee',\n    department: '',\n    position: ''\n  });\n  const [departments, setDepartments] = useState([]);\n  const [departmentsLoading, setDepartmentsLoading] = useState(true);\n  const [departmentsError, setDepartmentsError] = useState(null);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  // Fetch departments on component mount\n  useEffect(() => {\n    fetchDepartments();\n  }, []);\n\n  const fetchDepartments = async () => {\n    try {\n      setDepartmentsLoading(true);\n      setDepartmentsError(null);\n      console.log('Fetching departments...');\n      const response = await fetch('/api/employees/departments');\n      console.log('Departments response status:', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('Departments data:', data);\n        setDepartments(data.data || []);\n      } else {\n        console.error('Failed to fetch departments:', response.status, response.statusText);\n        const errorData = await response.json();\n        console.error('Error data:', errorData);\n        setDepartmentsError('Failed to load departments');\n      }\n    } catch (error) {\n      console.error('Failed to fetch departments:', error);\n      setDepartmentsError('Failed to load departments');\n    } finally {\n      setDepartmentsLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else {\n      // Enhanced email validation\n      const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      if (!emailRegex.test(formData.email)) {\n        newErrors.email = 'Please enter a valid email address (e.g., user@company.com)';\n      }\n      \n      // Check for common email providers and business domains\n      const emailDomain = formData.email.split('@')[1]?.toLowerCase();\n      const commonProviders = ['gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com', 'aol.com', 'icloud.com'];\n      const isCommonProvider = commonProviders.includes(emailDomain);\n      \n      if (isCommonProvider) {\n        newErrors.email = 'Please use your company email address for registration';\n      }\n      \n      // Additional check for very short domains (likely personal emails)\n      if (emailDomain && emailDomain.length < 5) {\n        newErrors.email = 'Please use your company email address for registration';\n      }\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Password must be at least 6 characters';\n    }\n    \n    if (!formData.confirmPassword) {\n      newErrors.confirmPassword = 'Please confirm your password';\n    } else if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n    }\n    \n    if (!formData.first_name) {\n      newErrors.first_name = 'First name is required';\n    }\n    \n    if (!formData.last_name) {\n      newErrors.last_name = 'Last name is required';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    setErrors({}); // Clear previous errors\n    \n    try {\n      const { confirmPassword, ...registerData } = formData;\n      \n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(registerData),\n      });\n\n      const data = await response.json();\n\n      if (data.status === 'success') {\n        // Store token in localStorage\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        \n        // Call parent callback\n        onRegister(data.user, data.token);\n      } else {\n        // Handle specific error messages from backend\n        if (data.errors && Array.isArray(data.errors)) {\n          const fieldErrors = {};\n          data.errors.forEach(error => {\n            fieldErrors[error.path] = error.msg;\n          });\n          setErrors(fieldErrors);\n        } else {\n          setErrors({ general: data.message || 'Registration failed' });\n        }\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      setErrors({ general: 'Network error. Please try again.' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2>📝 Register for HRMS</h2>\n        <p className=\"auth-subtitle\">Create your account to get started.</p>\n        \n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          {errors.general && (\n            <div className=\"error-message\">{errors.general}</div>\n          )}\n          \n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"first_name\">First Name</label>\n              <input\n                type=\"text\"\n                id=\"first_name\"\n                name=\"first_name\"\n                value={formData.first_name}\n                onChange={handleChange}\n                className={errors.first_name ? 'error' : ''}\n                placeholder=\"Enter first name\"\n              />\n              {errors.first_name && <span className=\"error-text\">{errors.first_name}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"last_name\">Last Name</label>\n              <input\n                type=\"text\"\n                id=\"last_name\"\n                name=\"last_name\"\n                value={formData.last_name}\n                onChange={handleChange}\n                className={errors.last_name ? 'error' : ''}\n                placeholder=\"Enter last name\"\n              />\n              {errors.last_name && <span className=\"error-text\">{errors.last_name}</span>}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              className={errors.email ? 'error' : ''}\n              placeholder=\"Enter your company email (e.g., john.doe@company.com)\"\n            />\n            {errors.email && <span className=\"error-text\">{errors.email}</span>}\n            <span className=\"hint-text\">\n              Please use your company email address for registration\n            </span>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                className={errors.password ? 'error' : ''}\n                placeholder=\"Enter password\"\n              />\n              {errors.password && <span className=\"error-text\">{errors.password}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"confirmPassword\">Confirm Password</label>\n              <input\n                type=\"password\"\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                className={errors.confirmPassword ? 'error' : ''}\n                placeholder=\"Confirm password\"\n              />\n              {errors.confirmPassword && <span className=\"error-text\">{errors.confirmPassword}</span>}\n            </div>\n          </div>\n\n          {/* Role selection removed for security. Registration always creates an employee. */}\n          {/*\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"role\">Role</label>\n              <select\n                id=\"role\"\n                name=\"role\"\n                value={formData.role}\n                onChange={handleChange}\n                disabled\n              >\n                <option value=\"employee\">Employee</option>\n              </select>\n              <small style={{ color: '#666', fontSize: '0.8rem' }}>\n                Admin accounts can only be created by existing administrators\n              </small>\n            </div>\n          </div>\n          */}\n\n          <div className=\"form-group\">\n            <label htmlFor=\"department\">Department</label>\n            <select\n              id=\"department\"\n              name=\"department\"\n              value={formData.department}\n              onChange={handleChange}\n              className={errors.department ? 'error' : ''}\n              disabled={departmentsLoading}\n            >\n              <option value=\"\">\n                {departmentsLoading ? 'Loading departments...' : 'Select Department'}\n              </option>\n              {departments.map(dept => (\n                <option key={dept.id} value={dept.name}>\n                  {dept.name}\n                </option>\n              ))}\n            </select>\n            {departmentsError && <span className=\"error-text\">{departmentsError}</span>}\n            {errors.department && <span className=\"error-text\">{errors.department}</span>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"position\">Position</label>\n            <input\n              type=\"text\"\n              id=\"position\"\n              name=\"position\"\n              value={formData.position}\n              onChange={handleChange}\n              placeholder=\"Enter position\"\n            />\n          </div>\n\n          <button \n            type=\"submit\" \n            className=\"auth-button\" \n            disabled={loading}\n          >\n            {loading ? 'Creating account...' : 'Create Account'}\n          </button>\n        </form>\n\n        <div className=\"auth-footer\">\n          <p>\n            Already have an account?{' '}\n            <button \n              type=\"button\" \n              className=\"link-button\" \n              onClick={onSwitchToLogin}\n            >\n              Sign in here\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}